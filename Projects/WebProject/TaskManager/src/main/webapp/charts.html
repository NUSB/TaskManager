<html>
    <head>
        <title>Chart Frame :: Basic usage</title>
        <script src="//cdn.webix.com/site/webix.js?v=3.4.0" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="//cdn.webix.com/site/webix.css?v=3.4.0">
    </head>
    <body>
        <style type="text/css">html, body{ height:100%; }</style>
        <div id="chartDiv" style="width:600px;height:450px;margin:20px"></div>
        <div style="margin:20px;">
            <input type="button" value="Get Data" onClick="getData()"/>
            <input type="button" value="Get X scale" onClick="getScale()"/>
            <br><br>
            <div id="result"></div>
        </div>    
        <script>

            var data = [];
            for (var i = 0; i <= 200; i++)
                data.push({time: i + 1, sales: Math.round(Math.random() * 5000 + 2000)});

            var chart = {
                view: "chart", id: "dchart",
                type: "line",
                value: "#sales#",
                xAxis: {template: "#time#"},
                yAxis: {},
                item: {
                    borderColor: "#1293f8",
                    color: "#ffffff"
                }
            };

            var range = {
                view: "rangechart", height: 80, id: "range",
                type: "line",
                value: "#sales#", padding: 0,
                frameId: "time",
                item: {radius: 0},
                data: data,
                on: {
                    onAfterRangeChange: function () {
                        $$("dchart").clearAll();
                        $$("dchart").parse(this.getFrameData());
                    }
                },
                range: {start: 30, end: 50}
            };

            webix.ui({
                container: "chartDiv", type: "wide",
                rows: [
                    chart,
                    range
                ]
            });

            function getData(index, prop) {
                var data = $$("range").getFrameData(index);
                var arr = [];
                for (var i = 0; i < data.length; i++)
                    arr.push(data[i].sales);

                document.getElementById("result").innerHTML = arr.join(", ");
            }
            function getScale() {
                var scale = $$("range").getFrameRange();
                var str = "start: " + scale.start + ", end: " + scale.end;

                document.getElementById("result").innerHTML = str;
            }
        </script>
        <script>Raven.config('https://50e7233181284483abcbf6688b0505b5@app.getsentry.com/68752', {release: '3.4.0'}).install();</script>
    </body>
</html>
